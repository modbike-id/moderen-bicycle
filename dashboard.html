<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Moderen Bicycle</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f3f3f3;
    }

    h1 {
      color: #2c3e50;
    }

    .vip-button {
      margin: 5px;
      padding: 10px 15px;
      border: none;
      background-color: #3498db;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }

    .vip-button:hover {
      background-color: #2980b9;
    }

    #status-vip {
      margin-top: 10px;
      font-weight: bold;
    }

    .vip-badge {
      margin-top: 10px;
      font-size: 18px;
    }

    .investment-status {
      margin-top: 30px;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
  </style>
</head>
<body>
  <h1>Dashboard</h1>

  <p>Saldo kamu: <span id="saldo">Rp0</span></p>
  <p id="status-vip">Memuat status VIP...</p>

  <div class="vip-badge">
    Status VIP: <span id="vip-level"></span> <span id="vip-badge"></span>
  </div>

  <button onclick="tambahSaldo(100000)" class="vip-button">Top Up Saldo Rp100.000</button>

  <h3>Pilih VIP:</h3>
  <button class="vip-button" onclick="beliVIP('VIP Pemula', 75000)">VIP Pemula - Rp75.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 1', 100000)">VIP 1 - Rp100.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 2', 200000)">VIP 2 - Rp200.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 3', 300000)">VIP 3 - Rp300.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 4', 500000)">VIP 4 - Rp500.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 5', 1000000)">VIP 5 - Rp1.000.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 6', 1500000)">VIP 6 - Rp1.500.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 7', 2000000)">VIP 7 - Rp2.000.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 8', 3000000)">VIP 8 - Rp3.000.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 9', 4000000)">VIP 9 - Rp4.000.000</button>
  <button class="vip-button" onclick="beliVIP('VIP 10', 5000000)">VIP 10 - Rp5.000.000</button>

  <div class="investment-status">
    <h3>Status Investasi Anda</h3>
    <p id="invest-level">Level: -</p>
    <p id="profit-info">Total Profit: -</p>
    <p id="status-info">Status: -</p>
    <p id="days-info">Hari ke: -</p>
  </div>

  <script>
    let saldo = parseInt(localStorage.getItem("saldo")) || 0;
    let statusVIP = localStorage.getItem("statusVIP") || "Belum membeli VIP";

    const badgeMap = {
      "VIP Pemula": "🚲",
      "VIP 1": "⭐",
      "VIP 2": "⭐⭐",
      "VIP 3": "⭐⭐⭐",
      "VIP 4": "🌟",
      "VIP 5": "🌟🌟",
      "VIP 6": "🌟🌟🌟",
      "VIP 7": "💎",
      "VIP 8": "💎💎",
      "VIP 9": "💎💎💎",
      "VIP 10": "👑"
    };

    const profitMap = {
      "VIP Pemula": 10000,
      "VIP 1": 15000,
      "VIP 2": 20000,
      "VIP 3": 35000,
      "VIP 4": 50000,
      "VIP 5": 75000,
      "VIP 6": 100000,
      "VIP 7": 150000,
      "VIP 8": 200000,
      "VIP 9": 300000,
      "VIP 10": 500000
    };

    function updateTampilan() {
      document.getElementById("saldo").innerText = "Rp" + saldo.toLocaleString();
      document.getElementById("status-vip").innerText = "Status VIP: " + statusVIP;
      document.getElementById("vip-level").innerText = statusVIP;
      document.getElementById("vip-badge").innerText = badgeMap[statusVIP] || "";

      updateInvestStatus();
    }

    function tambahSaldo(jumlah) {
      saldo += jumlah;
      localStorage.setItem("saldo", saldo);
      updateTampilan();
    }

    function beliVIP(nama, harga) {
      if (saldo >= harga) {
        saldo -= harga;
        statusVIP = nama;
        const today = new Date().toISOString().split("T")[0];
        localStorage.setItem("saldo", saldo);
        localStorage.setItem("statusVIP", statusVIP);
        localStorage.setItem("investDate", today);
        alert("Berhasil membeli " + nama);
        updateTampilan();
      } else {
        alert("Saldo tidak cukup untuk membeli " + nama);
      }
    }

    function getDaysSince(dateStr) {
      const start = new Date(dateStr);
      const now = new Date();
      const diffTime = now - start;
      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
      return diffDays;
    }

    function updateInvestStatus() {
      const investDate = localStorage.getItem("investDate");
      const vip = statusVIP;
      const profit = profitMap[vip] || 0;
      const duration = 20;

      if (!investDate || vip === "Belum membeli VIP") {
        document.getElementById("invest-level").innerText = "Level: -";
        document.getElementById("profit-info").innerText = "Total Profit: -";
        document.getElementById("status-info").innerText = "Status: -";
        document.getElementById("days-info").innerText = "Hari ke: -";
        return;
      }

      const days = getDaysSince(investDate);
      let status = "";
      let totalProfit = 0;

      if (days >= duration) {
        totalProfit = profit * duration;
        status = "Selesai";
      } else {
        totalProfit = profit * days;
        status = "Berjalan";
      }

      document.getElementById("invest-level").innerText = "Level: " + vip;
      document.getElementById("profit-info").innerText = "Total Profit: Rp" + totalProfit.toLocaleString();
      document.getElementById("status-info").innerText = "Status: " + status;
      document.getElementById("days-info").innerText = "Hari ke: " + Math.min(days, duration);
    }

    updateTampilan();
  </script>
</body>
</html>
